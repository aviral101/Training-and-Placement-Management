{% extends "includes/index.html" %}
{% include 'includes/messages.html' %}

{% load bulma_tags %}
{% load static %}
<link href="{% static '/css/styles.css' %}" rel="stylesheet">
<title>{% block title%}Statistics{% endblock %}</title>
{% block content %}
<br>
<h1 class="title has-text-centered">Companies Recruiting</h1>
<div class="tile is-ancestor">
    <div class="tile is-6 is-vertical is-parent">
        <div class="tile is-child box">
            <canvas id="horizontalBarChartCanvas"></canvas>
        </div>
    </div>
    <div class="tile is-parent">
        <div class="tile is-child box">
            <p class="title has-text-centered">Highest & Average Package </p>
            <div>
                <canvas id="barChart"></canvas>
            </div>
        </div>
    </div>
</div>
<div class="field is-grouped is-pulled-right">
    <p class="control">
        <a href="{% static 'images/Placement2016-17.docx' %}" download>
        
            <button class="button is-light " style="background-color: rgba(105, 0, 255, 0.11);color: #6900FF;">
                <strong>
    
                    Placement Report 2016-17
                </strong>
            </button>
        </a>
    </p>
    <p class="control">
        <a href="{% static 'images/Placement2017-18.docx' %}" download>
        
            <button class="button is-primary is-light">
                <strong>
    
                    Placement Report 2017-18
                </strong>
    
            </button>
        </a>

    </p>
    <p class="control">
        <a href="{% static 'images/Placement2018-19.docx' %}" download>
        
            <button class="button is-danger is-light">
                <strong>
    
                    Placement Report 2018-19
                </strong>
    
            </button>
        </a>
    </p>
</div><br>
<script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.bundle.js'></script><br>
<section class="section">
    <div class="container has-text-centered">
        <h1 class="title">
            STATISTICS
        </h1>
        <br>
    </div>
    <div class="tabs is-fullwidth is-toggle ">
        <div class="container">
            <ul>
                <li class="tab is-active" onclick="openTab(event,'WebDev')"><a>{{ st.0.year }}</a></li>
                <li class="tab" onclick="openTab(event,'WebAud')"><a>{{ st.1.year }}</a></li>
                <li class="tab" onclick="openTab(event,'Support')"><a>{{ st.2.year }}</a></li>
            </ul>
        </div>
    </div>
</section>
<div class="container section ml-6">
    <div id="WebDev" class="content-tab">
        <div class="columns is-mobile">
            <div class="column">BRANCHES</div>
            <div class="column">TOTAL</div>
            <div class="column">PLACED</div>
            <div class="column">PERCENTAGE</div>
        </div>
        <div class="columns is-mobile">
            <div class="column is-size-4">CS</div>
            <div class="column title" data-count="{{ st.0.cs_total }}">0</div>
            <div class="column title" data-count="{{ st.0.cs }}">0</div>
            <div class="column title" data-count="{% widthratio st.0.cs st.0.cs_total 100 %}">0</div>
        </div>
        <div class="columns is-mobile">
            <div class="column is-size-4">IT</div>
            <div class="column title" data-count="{{ st.0.it_total }}">0</div>
            <div class="column title" data-count="{{ st.0.it }}">0</div>
            <div class="column title" data-count="{% widthratio st.0.it st.0.it_total 100 %}">0</div>
        </div>
        <div class="columns is-mobile">
            <div class="column is-size-4">EXTC</div>
            <div class="column title" data-count="{{ st.0.extc_total }}">0</div>
            <div class="column title" data-count="{{ st.0.extc }}">0</div>
            <div class="column title" data-count="{% widthratio st.0.extc st.0.extc_total 100 %}">0</div>
        </div>
    </div>
    <div id="WebAud" class="content-tab" style="display:none">
        <div class="columns is-mobile">
            <div class="column">BRANCHES</div>
            <div class="column">TOTAL</div>
            <div class="column">PLACED</div>
            <div class="column">PERCENTAGE</div>
        </div>
        <div class="columns is-mobile">
            <div class="column is-size-4">CS</div>
            <div class="column title" data-count="{{ st.1.cs_total }}">0</div>
            <div class="column title" data-count="{{ st.1.cs }}">0</div>
            <div class="column title" data-count="{% widthratio st.1.cs st.1.cs_total 100 %}">0</div>
        </div>
        <div class="columns is-mobile">
            <div class="column is-size-4">IT</div>
            <div class="column title" data-count="{{ st.1.it_total }}">0</div>
            <div class="column title" data-count="{{ st.1.it }}">0</div>
            <div class="column title" data-count="{% widthratio st.1.it st.1.it_total 100 %}">0</div>
        </div>
        <div class="columns is-mobile">
            <div class="column is-size-4">EXTC</div>
            <div class="column title" data-count="{{ st.1.extc_total }}">0</div>
            <div class="column title" data-count="{{ st.1.extc }}">0</div>
            <div class="column title" data-count="{% widthratio st.1.extc st.1.extc_total 100 %}">0</div>
        </div>
    </div>
    <div id="Support" class="content-tab" style="display:none">
        <div class="columns is-mobile">
            <div class="column">BRANCHES</div>
            <div class="column">TOTAL</div>
            <div class="column">PLACED</div>
            <div class="column">PERCENTAGE</div>
        </div>
        <div class="columns is-mobile">
            <div class="column is-size-4">CS</div>
            <div class="column title" data-count="{{ st.2.cs_total }}">0</div>
            <div class="column title" data-count="{{ st.2.cs }}">0</div>
            <div class="column title" data-count="{% widthratio st.2.cs st.2.cs_total 100 %}">0</div>
        </div>
        <div class="columns is-mobile">
            <div class="column is-size-4">IT</div>
            <div class="column title" data-count="{{ st.2.it_total }}">0</div>
            <div class="column title" data-count="{{ st.2.it }}">0</div>
            <div class="column title" data-count="{% widthratio st.2.it st.2.it_total 100 %}">0</div>
        </div>
        <div class="columns is-mobile">
            <div class="column is-size-4">EXTC</div>
            <div class="column title" data-count="{{ st.2.extc_total }}">0</div>
            <div class="column title" data-count="{{ st.2.extc }}">0</div>
            <div class="column title" data-count="{% widthratio st.2.extc st.2.extc_total 100 %}">0</div>
        </div>
    </div>

    </section>
    <script src="{% static 'js/counter2.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"
        integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg=="
        crossorigin="anonymous"></script>
    <script src="{% static 'js/Chart.js' %}"></script>
    <script src="{% static 'js/ChartHorizontal.js' %}"></script>


    {% endblock %}